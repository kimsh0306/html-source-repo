<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
	<link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/themes/color.css">
    <link rel="stylesheet" type="text/css" href="https://www.jeasyui.com/easyui/demo/demo.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="https://www.jeasyui.com/easyui/jquery.easyui.min.js"></script>
	
	<script type="text/javascript">
		function empList(){
			$("#dg_emp").datagrid({
				 url:"jsonEmpList.jsp"
				 //성공했을 때 출력을 해주기 위해 사용한 함수
				,onLoadSuccess: function(data){
					//Object를 String 문자열로 만들어 줌.
					var result = JSON.stringify(data);
					alert("새로고침 처리 성공: "+data+","+result);
				}				 
			});
		}/////////////end of empList
	</script>
	
</head>
<body>
	<!-- 선언이 먼저 -->
    <table id="dg_emp"></table>
	<!-- 태그를 최소한으로 -->
	<script type="text/javascript">
		$(document).ready(function(){
			$('#dg_emp').datagrid({
				 title:'사원관리  - 자바스크립트만으로 구성하기'
			    //,url:'jsonEmpList.jsp'
			    ,columns:[[
			        {field:'EMPNO',title:'사원번호',width:120,align:'center'},
			        {field:'ENAME',title:'사원이름',width:100,align:'center'},
			        {field:'SAL',title:'급여',width:150,align:'center'}
			    ]]
		
				,toolbar: [{
					iconCls: 'icon-search',
					handler: function(){
						alert('조회')
						empList();
					},
					text: '조회'
				},'-',{
					iconCls: 'icon-add',
					handler: function(){
						alert('입력')
					},
					text: '입력'
				},'-',{
					iconCls: 'icon-edit',
					handler: function(){
						alert('수정')
					},
					text: '수정'
				},'-',{
					iconCls: 'icon-remove',
					handler: function(){
						alert('삭제')
					},
					text: '삭제'
				}]				
			});	//////////////////////////////end of datagrid			
		});	//////////////////////////////////end of ready
	</script>
	    <div id="toolbar">
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-search" plain="true" onclick="empList()">사원조회</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-man" plain="true" onclick="newUser()">사원등록</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-edit" plain="true" onclick="editUser()">사원수정</a>
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="destroyUser()">사원삭제</a>
    </div>	
</body>
</html>